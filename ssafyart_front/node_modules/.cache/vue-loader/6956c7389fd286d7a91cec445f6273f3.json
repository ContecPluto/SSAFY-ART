{"remainingRequest":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimjunho/front/ssafyart_front/src/components/Paint.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kimjunho/front/ssafyart_front/src/components/Paint.vue","mtime":1587609425800},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js","mtime":1587098298841},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js","mtime":1587098312803}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBiYXNlVVJMIGZyb20gJ0AvanMvYmFzZS11cmwuanMnCmltcG9ydCBQYWludGFibGUgZnJvbSAnLi9jb21wb25lbnRzL1BhaW50YWJsZScKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6ewogICAgUGFpbnRhYmxlCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNGaXJzdFBhaW50YWJsZTogdHJ1ZSwKICAgICAgaGlkZVBhaW50YWJsZTogZmFsc2UsCiAgICAgIGRpc2FibGVOYXZpZ2F0aW9uOiBmYWxzZSwKICAgICAgZHluYW1pY0xpbmVXaWR0aDogNSwKICAgICAgaXNBY3RpdmU6IGZhbHNlLAogICAgICB1c2VFcmFzZXI6IGZhbHNlLAogICAgICBjb2xvcjogJyMwMDAnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hdmlnYXRpb24oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgJ2RyYXctc2F2ZSc6IHsKICAgICAgICAgIGJvZHk6ICfrj4Tqtawg66qo7J2MJywKICAgICAgICAgIGFjdGl2ZUJvZHk6ICc8c3Ryb25nPnNhdmU8L3N0cm9uZz4nCiAgICAgICAgfSwKICAgICAgICBjb2xvcjogewogICAgICAgICAgYm9keTogJ2NvbG9yJwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG5hdmlnYXRlKCkgewogICAgICB0aGlzLmlzRmlyc3RQYWludGFibGUgPSAhdGhpcy5pc0ZpcnN0UGFpbnRhYmxlOwogICAgfSwKICAgIGhpZGUoKSB7CiAgICAgIHRoaXMuJGhpZGVQYWludGFibGVOYXZpZ2F0aW9uKCk7CiAgICB9LAogICAgc2hvdygpIHsKICAgICAgdGhpcy4kc2hvd1BhaW50YWJsZU5hdmlnYXRpb24oKTsKICAgIH0sCiAgICB0b2dnbGVkUGFpbnRhYmxlKGlzQWN0aXZlKSB7CiAgICAgIHRoaXMuaXNBY3RpdmUgPSBpc0FjdGl2ZTsKICAgIH0sCiAgICBzYXZlKCkgewogICAgICBjb25zb2xlLmxvZygxMjMxMjMxMjMxKQogICAgICBmdW5jdGlvbiBkYXRhVVJJdG9CbG9iKGRhdGFVUkkpIHsKICAgICAgICAvLyBjb252ZXJ0IGJhc2U2NCB0byByYXcgYmluYXJ5IGRhdGEgaGVsZCBpbiBhIHN0cmluZwogICAgICAgIC8vIGRvZXNuJ3QgaGFuZGxlIFVSTEVuY29kZWQgRGF0YVVSSXMgLSBzZWUgU08gYW5zd2VyICM2ODUwMjc2IGZvciBjb2RlIHRoYXQgZG9lcyB0aGlzCiAgICAgICAgdmFyIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFVUkkuc3BsaXQoJywnKVsxXSk7CgogICAgICAgIC8vIHNlcGFyYXRlIG91dCB0aGUgbWltZSBjb21wb25lbnQKICAgICAgICB2YXIgbWltZVN0cmluZyA9IGRhdGFVUkkuc3BsaXQoJywnKVswXS5zcGxpdCgnOicpWzFdLnNwbGl0KCc7JylbMF07CgogICAgICAgIC8vIHdyaXRlIHRoZSBieXRlcyBvZiB0aGUgc3RyaW5nIHRvIGFuIEFycmF5QnVmZmVyCiAgICAgICAgdmFyIGFiID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVTdHJpbmcubGVuZ3RoKTsKICAgICAgICB2YXIgaWEgPSBuZXcgVWludDhBcnJheShhYik7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpOwogICAgICAgIH0KCiAgICAgICAgLy9PbGQgQ29kZQogICAgICAgIC8vd3JpdGUgdGhlIEFycmF5QnVmZmVyIHRvIGEgYmxvYiwgYW5kIHlvdSdyZSBkb25lCiAgICAgICAgLy92YXIgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKTsKICAgICAgICAvL2JiLmFwcGVuZChhYik7CiAgICAgICAgLy9yZXR1cm4gYmIuZ2V0QmxvYihtaW1lU3RyaW5nKTsKCiAgICAgICAgLy9OZXcgQ29kZQogICAgICAgIHJldHVybiBuZXcgQmxvYihbYWJdLCB7dHlwZTogbWltZVN0cmluZ30pOwogICAgICB9CiAgICAgIGNvbnN0IGZpbGVzID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKQogICAgICB2YXIgYmxvYiA9IGRhdGFVUkl0b0Jsb2IoaW1hZ2UudG9EYXRhVVJMKCkpCiAgICAgIHZhciBGaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCAnY2FudmFzJywgeyB0eXBlOiAiaW1hZ2UvcG5nIiB9KQogICAgICBmaWxlcy5hcHBlbmQoJ3BvcnRyYWl0JywgRmlsZSkKICAgICAgYmFzZVVSTC5QT1NUKCcvcG9ydHJhaXQnLCBmaWxlcykKICAgICAgLnRoZW4ocmVzID0+ewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgfSkKCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Paint.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Paint.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"paint-div\">\n    <div class=\"custom-navigation\">\n      <div class=\"controls\" v-if=\"isActive\">\n        {{ dynamicLineWidth }}px<br />\n        <input\n          type=\"range\"\n          @input=\"dynamicLineWidth = +$event.target.value\"\n          min=\"1\"\n          max=\"100\"\n          class=\"canvasInput\"\n        />\n        <input type=\"color\" v-model=\"color\" /><br /><br />\n        <button @click=\"$refs.paintable.undoDrawingStep\">undo</button>\n        <button @click=\"$refs.paintable.redoDrawingStep\">redo</button>\n        <button @click=\"$refs.paintable.clearCanvas\">clear</button><br /><br />\n        <button @click=\"$refs.paintable.saveCurrentCanvasToStorage\" class=\"\">\n          save\n        </button>\n        <button @click=\"$refs.paintable.cancelDrawing\">cancel</button>\n        <button @click=\"useEraser = !useEraser\">\n          {{ !useEraser ? 'eraser' : 'pencil' }}\n        </button>\n      </div>\n    </div>\n\n    <paintable\n      :active=\"isActive\"\n      :width=\"800\"\n      :height=\"800\"\n      :disableNavigation=\"disableNavigation\"\n      :hide=\"hidePaintable\"\n      :horizontalNavigation=\"true\"\n      :navigation=\"navigation\"\n      :name=\"isFirstPaintable ? 'my-screen' : 'my-second-screen'\"\n      :factor=\"1\"\n      :lineWidth=\"dynamicLineWidth\"\n      :lineWidthEraser=\"20\"\n      :useEraser=\"useEraser\"\n      :color=\"color\"\n      class=\"paint\"\n      ref=\"paintable\"\n      @toggle-paintable=\"toggledPaintable\"\n    >\n    </paintable>\n  </div>\n</template>\n\n<script>\nimport baseURL from '@/js/base-url.js'\nimport Paintable from './components/Paintable'\nexport default {\n  components:{\n    Paintable\n  },\n  data() {\n    return {\n      isFirstPaintable: true,\n      hidePaintable: false,\n      disableNavigation: false,\n      dynamicLineWidth: 5,\n      isActive: false,\n      useEraser: false,\n      color: '#000'\n    };\n  },\n  computed: {\n    navigation() {\n      return {\n        'draw-save': {\n          body: '도구 모음',\n          activeBody: '<strong>save</strong>'\n        },\n        color: {\n          body: 'color'\n        }\n      };\n    }\n  },\n  methods: {\n    navigate() {\n      this.isFirstPaintable = !this.isFirstPaintable;\n    },\n    hide() {\n      this.$hidePaintableNavigation();\n    },\n    show() {\n      this.$showPaintableNavigation();\n    },\n    toggledPaintable(isActive) {\n      this.isActive = isActive;\n    },\n    save() {\n      console.log(1231231231)\n      function dataURItoBlob(dataURI) {\n        // convert base64 to raw binary data held in a string\n        // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n        var byteString = atob(dataURI.split(',')[1]);\n\n        // separate out the mime component\n        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n        // write the bytes of the string to an ArrayBuffer\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        //Old Code\n        //write the ArrayBuffer to a blob, and you're done\n        //var bb = new BlobBuilder();\n        //bb.append(ab);\n        //return bb.getBlob(mimeString);\n\n        //New Code\n        return new Blob([ab], {type: mimeString});\n      }\n      const files = new FormData();\n      var image = document.querySelector('.canvas')\n      var blob = dataURItoBlob(image.toDataURL())\n      var File = new File([blob], 'canvas', { type: \"image/png\" })\n      files.append('portrait', File)\n      baseURL.POST('/portrait', files)\n      .then(res =>{\n        console.log(res)\n      })\n\n    }\n  }\n};\n</script>\n\n<style scoped>\n.paint-div{\n  margin-top: 150px;\n}\n\nbody {\n  font-family: Helvetica, Arial, sans-serif;\n  position: initial !important;\n}\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\nh3 {\n  font-weight: normal;\n}\n.control {\n  margin: 20px;\n}\n.paint {\n  border: 5px solid #000;\n  border-radius: 5px;\n  margin: 40px auto;\n  box-sizing: border-box;\n  display: block;\n  width: 810px !important;\n  height: 810px !important;\n  position: relative !important;\n  overflow: hidden;\n}\nfooter {\n  text-align: center;\n}\nfooter a {\n  color: #777;\n  text-transform: uppercase;\n  text-decoration: none;\n}\nbutton {\n  border: 0;\n  margin: 0 10px 0 0;\n  font-size: 14px;\n  padding: 10px 15px;\n  opacity: 0.8;\n  background-color: rgb(19, 102, 141);\n  border-radius: 3px;\n  color: #fff;\n  cursor: pointer;\n}\nbutton:hover {\n  opacity: 1;\n}\n.custom-navigation {\n  position: fixed;\n  top: 40px;\n  left: 40px;\n  z-index: 1001;\n  background-color: #fff;\n}\n.custom-navigation .controls {\n  margin: 10px 0 0 0;\n  border: 1px solid #ddd;\n  padding: 20px;\n  border-radius: 5px;\n}\n</style>\n"]}]}