{"remainingRequest":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimjunho/front/ssafyart_front/src/components/Gallery.vue?vue&type=style&index=0&scope=true&lang=css&","dependencies":[{"path":"/Users/kimjunho/front/ssafyart_front/src/components/Gallery.vue","mtime":1588070180639},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/css-loader/dist/cjs.js","mtime":1587098312615},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1587098312803},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/postcss-loader/src/index.js","mtime":1579183907276},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js","mtime":1587098312803}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubW9kYWwtYm9keSA+IGRpdiA+IGltZ3sKICB3aWR0aDogMTAwJTsKfQoucGFnZS1pdGVtewogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmNhewogIGhlaWdodDogMTAwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogcmVkOwp9CgouZGlzYWJsZWR7CiAgY3Vyc29yOiBkZWZhdWx0Owp9CgoucGhvdG8gewogIGN1cnNvcjogcG9pbnRlcjsKICAvKiB3aWR0aDogMTAwJTsgKi8KICBtYXJnaW4tdG9wOiBhdXRvOwp9CgoucGhvdG8gPiBkaXYgewogIGhlaWdodDogMTAwJTsKfQo="},{"version":3,"sources":["Gallery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Gallery.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"mt-5 bg-light\">\n    <p class=\"title text-center\">{{ user }}'s Gallery</p>\n    <div class=\"container\">\n      <div class=\"row gall\">\n        <div @click=\"showModal(image)\" v-for=\"(image, n) in images\" :key=n class=\"photo col-sm-4 col-6 px-3 pb-4 m-auto\">\n          <frame :imgPath=\"image.img_path\"></frame>\n          <!-- <img @click=\"showModal(imageUrl)\"  class=\"mb-2 photo\" :src=\"imageUrl\" alt=\"\">\n          <p class=\"text-right container\">2020-04-20</p> -->\n        </div>\n      </div>\n    </div>\n\n\n\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination justify-content-center\">\n        <li class=\"page-item\" :class=\"{disabled:minIdx==0}\">\n          <p @click=\"previous\" class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n            <span aria-hidden=\"true\">&laquo;</span>\n          </p>\n        </li>\n        <span v-for=\"n in total\" :key=n>\n          <li @click=\"onChange(n)\" v-if=\"n <= maxIdx && minIdx < n\" :class=\"{active: n==currentPage}\" class=\"page-item\"><p class=\"page-link\">{{n}}</p></li>\n        </span>\n        <li class=\"page-item\" :class=\"{disabled:maxIdx > total}\">\n          <p @click=\"next\" class=\"page-link\" href=\"#\" aria-label=\"Next\">\n            <span aria-hidden=\"true\">&raquo;</span>\n          </p>\n        </li>\n      </ul>\n    </nav>\n\n    <b-modal id=\"modal-center\" centered ref=\"my-modal\" hide-footer hide-header>\n      <div class=\"d-block text-center\">\n        <img class=\"share-image\" :src=\"image.img_path\" alt=\"\">\n        <b-button class=\"col-4\" squared @click=\"deleteArticle()\" variant=\"outline-danger\">삭제</b-button>\n        <b-button class=\"col-4\" squared onclick=\"shareKakaotalk()\" variant=\"outline-primary\">공유</b-button>\n        <b-button class=\"col-4\" squared @click=\"hideModal\" variant=\"outline-secondary\">닫기</b-button>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>  \n  import Frame from '@/components/Frame2.vue'\n  import djangoURL from '@/js/django-url.js'\n\n\n  export default {\n    mounted() {\n      this.user = this.$store.getters.user\n      const user_id = this.$store.getters.userId\n      djangoURL('api/v1/article/' + user_id + '/1/', this.$store.getters.requestHeader)\n      .then(res => {\n        this.images = res.data.data\n        this.total = res.data.total\n      })\n    },\n    components: {\n      Frame\n    },\n    data: () => {\n      return { \n        currentPage: 1,\n        total: 1,\n        minIdx: 0,\n        maxIdx: 5,\n        image: {\n        },\n        images: [],\n        user: 'User'\n      }\n    },\n    methods: {\n      onChange(n) {\n        this.currentPage = n\n        const user_id = this.$store.getters.userId\n        djangoURL('api/v1/article/' + user_id + '/' + n + '/', this.$store.getters.requestHeader)\n        .then(res => {\n          this.images = res.data.data\n        })\n      },\n      next() {\n        this.minIdx += 5\n        this.maxIdx += 5\n        this.currentPage = this.minIdx + 1\n      },\n      previous() {\n        this.minIdx -= 5\n        this.maxIdx -= 5\n        this.currentPage = this.minIdx + 1\n      },\n      showModal(image) {\n        this.$refs['my-modal'].show()\n        this.image = image\n      },\n      hideModal() {\n        this.$refs['my-modal'].hide()\n      },\n      deleteArticle() {\n        djangoURL.delete('api/v1/article/'+this.image.id+'/delete/', this.$store.getters.requestHeader)\n        .then(()=>{\n          this.images = this.images.filter(e => {return e != this.image})\n          this.hideModal()\n        })\n      }\n    }\n  }\n</script>\n\n<style scope>\n\n.modal-body > div > img{\n  width: 100%;\n}\n.page-item{\n  cursor: pointer;\n}\n\n.ca{\n  height: 100px;\n  background-color: red;\n}\n\n.disabled{\n  cursor: default;\n}\n\n.photo {\n  cursor: pointer;\n  /* width: 100%; */\n  margin-top: auto;\n}\n\n.photo > div {\n  height: 100%;\n}\n</style>"]}]}