{"remainingRequest":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimjunho/front/ssafyart_front/src/components/Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kimjunho/front/ssafyart_front/src/components/Create.vue","mtime":1587917720953},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js","mtime":1587098298841},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js","mtime":1587098312803}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQaWN0dXJlSW5wdXQgZnJvbSAndnVlLXBpY3R1cmUtaW5wdXQnCmltcG9ydCAnQC9jc3MvdGFiLmNzcycKaW1wb3J0IGZsYXNrVVJMIGZyb20gJ0AvanMvZmxhc2stdXJsLmpzJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBpY3R1cmVJbnB1dAogIH0sCiAgbWV0aG9kczogewogICAgdGFiQ2hhbmdlKG4pIHsKICAgICAgdGhpcy5hY3RpdmVUYWIyID0gbgogICAgICB0aGlzLnN0eWxlID0gJycKICAgICAgdGhpcy5hY3RpdmVTdHlsZSA9ICcnCiAgICB9LAogICAgb25DaGFuZ2UoaW1hZ2UpIHsKICAgICAgaWYgKGltYWdlKSB7CiAgICAgICAgcmV0dXJuIGltYWdlCiAgICAgIH0gCiAgICB9LAogICAgc3R5bGVDaGFuZ2UoaW1hZ2UpIHsKICAgICAgdGhpcy5zdHlsZSA9IHRoaXMub25DaGFuZ2UoaW1hZ2UpCiAgICB9LAogICAgcGhvdG9DaGFuZ2UoaW1hZ2UpIHsKICAgICAgdGhpcy5waG90byA9IHRoaXMub25DaGFuZ2UoaW1hZ2UpCiAgICB9LAogICAgcGhvdG9SZW1vdmUoKSB7CiAgICAgIHRoaXMucGhvdG8gPSAnJwogICAgfSwKICAgIHN0eWxlUmVtb3ZlKCkgewogICAgICB0aGlzLnN0eWxlID0gJycKICAgIH0sCiAgICBzdHlsZUNsaWNrKGUpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlU3R5bGUgIT09ICcnKSB7CiAgICAgICAgdmFyIHJlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGhpcy5hY3RpdmVTdHlsZSkKICAgICAgICByZW1bMF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlU3R5bGUnKQogICAgICB9IAogICAgICB0aGlzLmFjdGl2ZVN0eWxlID0gZQogICAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKQogICAgICB0YXJnZXRbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlU3R5bGUnKQogICAgfSwKICAgIAogICAgYXN5bmMgZ29SZXN1bHQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waWN0dXJlLWlucHV0JykuY2hpbGROb2Rlc1sxXS5maWxlc1swXQogICAgICBpZiAodGhpcy5hY3RpdmVTdHlsZSA9PSAnJyB8fCBjb250ZW50ID09IHVuZGVmaW5lZCApIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIHJldHVybiAgICAgICAgIAogICAgICB9CgogICAgICBjb25zdCBmaWxlcyA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAvLyBpZiAodGhpcy5hY3RpdmVTdHlsZSAmJiB0aGlzLmFjdGl2ZVRhYjIgPT0gMSkgewogICAgICAvLyAgIGF3YWl0IGZldGNoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nK3RoaXMuYWN0aXZlU3R5bGUpLnNyYykKICAgICAgLy8gICAudGhlbihyZXMgPT4gcmVzLmJsb2IoKSkKICAgICAgLy8gICAudGhlbihibG9iID0+IHsKICAgICAgLy8gICAgIHRoaXMuc3R5bGVGaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCB0aGlzLmFjdGl2ZVN0eWxlKycuanBnJywgeyB0eXBlOiAiaW1hZ2UvcG5nIiB9KQogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgICAKICAgICAgZmlsZXMuYXBwZW5kKCd0eXBlJywgdGhpcy5hY3RpdmVTdHlsZSkKICAgICAgZmlsZXMuYXBwZW5kKCdwaG90bycsIGNvbnRlbnQpCiAgICAgIGZsYXNrVVJMLnBvc3QoJ2Zhc3RzdHlsZXRyYW5zZmVyJywgZmlsZXMpCiAgICAgIC50aGVuKHJlcz0+ewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOidSZXN1bHQnLCBwYXJhbXM6ewogICAgICAgICAgaW1nUGF0aDogcmVzLmRhdGEucGF0aAogICAgICAgIH19KQogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQogICAgICAKICAgICAgCgogICAgICAKICAgIH0KICB9LAogIGRhdGE6ICgpID0+IHsKICAgIHJldHVybiB7IAogICAgICBhY3RpdmVUYWI6IDEsCiAgICAgIGFjdGl2ZVRhYjI6IDEsCiAgICAgIGFjdGl2ZVN0eWxlOiAnJywKICAgICAgc3R5bGU6ICcnLAogICAgICBwaG90bzogJycsCiAgICAgIGltYWdlOicnLAogICAgICBpbWdQYXRoOiByZXF1aXJlKCdAL2Fzc2V0cy9zdGVwMy5wbmcnKSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHN0eWxlczogWwogICAgICAgIHsKICAgICAgICAgICd0eXBlJyA6ICd0aGVfc3RhcnJ5X25pZ2h0JywKICAgICAgICAgICd1cmwnIDogcmVxdWlyZSgnQC9hc3NldHMvc3R5bGVzL3RoZV9zdGFycnlfbmlnaHQuanBnJyksCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAndHlwZScgOiAnY3JlYXRpb25fb2ZfYWRhbScsCiAgICAgICAgICAndXJsJyA6IHJlcXVpcmUoJ0AvYXNzZXRzL3N0eWxlcy9jcmVhdGlvbl9vZl9hZGFtLmpwZycpLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgJ3R5cGUnIDogJ3dhdmUnLAogICAgICAgICAgJ3VybCcgOiByZXF1aXJlKCdAL2Fzc2V0cy9zdHlsZXMvd2F2ZS5qcGcnKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICd0eXBlJyA6ICdidWRkaGlzbScsCiAgICAgICAgICAndXJsJyA6IHJlcXVpcmUoJ0AvYXNzZXRzL3N0eWxlcy9idWRkaGlzbS5qcGcnKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICd0eXBlJyA6ICdLYW5kaW5za3knLAogICAgICAgICAgJ3VybCcgOiByZXF1aXJlKCdAL2Fzc2V0cy9zdHlsZXMvS2FuZGluc2t5LmpwZycpLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgJ3R5cGUnIDogJ2NvbXBvc2l0aW9uX1ZJSScsCiAgICAgICAgICAndXJsJyA6IHJlcXVpcmUoJ0AvYXNzZXRzL3N0eWxlcy9jb21wb3NpdGlvbl9WSUkuanBnJyksCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAndHlwZScgOiAnbGFfbXVzZScsCiAgICAgICAgICAndXJsJyA6IHJlcXVpcmUoJ0AvYXNzZXRzL3N0eWxlcy9sYV9tdXNlLmpwZycpLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgJ3R5cGUnIDogJ3JhaW5fcHJpbmNlc3MnLAogICAgICAgICAgJ3VybCcgOiByZXF1aXJlKCdAL2Fzc2V0cy9zdHlsZXMvcmFpbl9wcmluY2Vzcy5qcGcnKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICd0eXBlJyA6ICdNb25kcmlhbicsCiAgICAgICAgICAndXJsJyA6IHJlcXVpcmUoJ0AvYXNzZXRzL3N0eWxlcy9Nb25kcmlhbi5qcGcnKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgICd0eXBlJyA6ICdzdHlsZV9zYW5kJywKICAgICAgICAgICd1cmwnIDogcmVxdWlyZSgnQC9hc3NldHMvc3R5bGVzL3N0eWxlX3NhbmQuanBnJyksCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAndHlwZScgOiAnd2hpdGVfY293JywKICAgICAgICAgICd1cmwnIDogcmVxdWlyZSgnQC9hc3NldHMvc3R5bGVzL3doaXRlX2Nvdy5qcGcnKSwKICAgICAgICB9LAogICAgICBdCiAgICB9CiAgfSwKfQo="},{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Create.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"mt-5\">\n    <div class=\"container start\">\n      <p class=\"title\">Create</p>\n      <div class=\"row\">\n        <div class=\"col-sm-6 col-12 mb-3\">\n          <div class=\"tabs\">\n              <a v-on:click=\"activeTab=1\" v-bind:class=\"[ activeTab === 1 ? 'active' : '' ]\">Photo</a>\n          </div>\n          <div class=\"content\">\n            <div v-if=\"activeTab === 1\" class=\"tabcontent\">\n                <picture-input\n                ref=\"pictureInput\" \n                @change=\"photoChange\" \n                @remove=\"photoRemove\"\n                width=\"500\" \n                height=\"500\" \n                margin=\"16\" \n                accept=\"image/jpeg, image/png\" \n                size=\"10\" \n                buttonClass=\"btn btn-primary\"\n                :removable=\"true\">\n              </picture-input>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-6 col-12 mb-3\">\n          <div class=\"tabs\">\n              <a v-on:click=\"tabChange(1)\" v-bind:class=\"[ activeTab2 === 1 ? 'active' : '' ]\">Style</a>\n          </div>\n          <div class=\"content\">\n            <div v-if=\"activeTab2 === 1\" class=\"tabcontent\">\n                <div class=\"row container px-3 py-3 mx-0 style-div\">\n                  <div v-for=\"(style, n) in styles\" :key=\"n\" class=\"col-sm-4 col-6 px-2\">\n                    <img @click=\"styleClick(style.type)\" :class=\"style.type\" class=\"mb-2 style\" :src=\"style.url\" alt=\"\">\n                  </div>\n                </div>\n            </div>\n            <div v-if=\"activeTab2 === 2\" class=\"tabcontent\">\n                <picture-input\n                ref=\"pictureInput\" \n                @change=\"styleChange\"\n                @remove=\"styleRemove\"\n                width=\"500\" \n                height=\"500\" \n                margin=\"16\" \n                accept=\"image/jpeg, image/png\" \n                size=\"10\" \n                buttonClass=\"btn btn-primary\"\n                :removable=\"true\">\n              </picture-input>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"row justify-content-center\">\n        <button v-if=\"!loading\" class=\"col-4 cbtn btn btn-primary justify-content-md-center mb-3\" @click=\"goResult\">Create</button>\n        <b-button v-else class=\"col-4 cbtn btn btn-primary justify-content-md-center mb-3\"  variant=\"primary\" disabled>\n          <b-spinner small></b-spinner>\n          Loading...\n        </b-button>\n      </div>\n\n      \n    </div>\n  </div>\n</template>\n\n<script>\n  import PictureInput from 'vue-picture-input'\n  import '@/css/tab.css'\n  import flaskURL from '@/js/flask-url.js'\n\n  export default {\n    components: {\n      PictureInput\n    },\n    methods: {\n      tabChange(n) {\n        this.activeTab2 = n\n        this.style = ''\n        this.activeStyle = ''\n      },\n      onChange(image) {\n        if (image) {\n          return image\n        } \n      },\n      styleChange(image) {\n        this.style = this.onChange(image)\n      },\n      photoChange(image) {\n        this.photo = this.onChange(image)\n      },\n      photoRemove() {\n        this.photo = ''\n      },\n      styleRemove() {\n        this.style = ''\n      },\n      styleClick(e) {\n        if (this.activeStyle !== '') {\n          var rem = document.getElementsByClassName(this.activeStyle)\n          rem[0].classList.remove('activeStyle')\n        } \n        this.activeStyle = e\n        var target = document.getElementsByClassName(e)\n        target[0].classList.add('activeStyle')\n      },\n      \n      async goResult() {\n        this.loading = true\n        const content = document.querySelector('.picture-input').childNodes[1].files[0]\n        if (this.activeStyle == '' || content == undefined ) {\n          this.loading = false\n          return         \n        }\n\n        const files = new FormData();\n        // if (this.activeStyle && this.activeTab2 == 1) {\n        //   await fetch(document.querySelector('.'+this.activeStyle).src)\n        //   .then(res => res.blob())\n        //   .then(blob => {\n        //     this.styleFile = new File([blob], this.activeStyle+'.jpg', { type: \"image/png\" })\n        //   })\n        // }\n       \n        files.append('type', this.activeStyle)\n        files.append('photo', content)\n        flaskURL.post('faststyletransfer', files)\n        .then(res=>{\n          console.log(res)\n          this.loading = false\n          this.$router.push({name:'Result', params:{\n            imgPath: res.data.path\n          }})\n        })\n        .catch(err => {\n            this.loading = false\n          console.log(err)\n        })\n        \n        \n\n        \n      }\n    },\n    data: () => {\n      return { \n        activeTab: 1,\n        activeTab2: 1,\n        activeStyle: '',\n        style: '',\n        photo: '',\n        image:'',\n        imgPath: require('@/assets/step3.png'),\n        loading: false,\n        styles: [\n          {\n            'type' : 'the_starry_night',\n            'url' : require('@/assets/styles/the_starry_night.jpg'),\n          },\n          {\n            'type' : 'creation_of_adam',\n            'url' : require('@/assets/styles/creation_of_adam.jpg'),\n          },\n          {\n            'type' : 'wave',\n            'url' : require('@/assets/styles/wave.jpg'),\n          },\n          {\n            'type' : 'buddhism',\n            'url' : require('@/assets/styles/buddhism.jpg'),\n          },\n          {\n            'type' : 'Kandinsky',\n            'url' : require('@/assets/styles/Kandinsky.jpg'),\n          },\n          {\n            'type' : 'composition_VII',\n            'url' : require('@/assets/styles/composition_VII.jpg'),\n          },\n          {\n            'type' : 'la_muse',\n            'url' : require('@/assets/styles/la_muse.jpg'),\n          },\n          {\n            'type' : 'rain_princess',\n            'url' : require('@/assets/styles/rain_princess.jpg'),\n          },\n          {\n            'type' : 'Mondrian',\n            'url' : require('@/assets/styles/Mondrian.jpg'),\n          },\n          {\n            'type' : 'style_sand',\n            'url' : require('@/assets/styles/style_sand.jpg'),\n          },\n          {\n            'type' : 'white_cow',\n            'url' : require('@/assets/styles/white_cow.jpg'),\n          },\n        ]\n      }\n    },\n  }\n</script>\n\n<style>\n.style-div{\n  height: 30em;\n  overflow: scroll;\n}\n\n.style-div > div{\n  /* height: 5em; */\n  margin-bottom: 10px;\n}\n.style{\n  height: 100%;\n  width: 100%;\n}\n\n\n.preview-container[data-v-431cb064]{\n  margin-top: 15px\n}\n\n.title{\n  font-size: 8rem;\n  font-family: 'East Sea Dokdo', cursive;\n}\n.box{\n  background-color: #C9C9C9;\n}\n.picture-inner{\n  background-color: #fff;\n  font-size: 13px !important;\n}\n\n.picture-preview{\n  background-color: #fff !important;\n}\n\n.style{\n  opacity: 0.7;\n  cursor: pointer;\n  max-width: 100%;\n}\n\n.style:hover{\n  opacity: 1;\n}\n\n.activeStyle{\n  box-shadow: 0px 0px 7px 3px;\n  max-width: 100%;\n  opacity: 1;\n}\n\n.picture-preview{\n  z-index: 300 !important;\n}\n\n.picture-inner{\n  z-index: 300 !important;\n}\n\n</style>"]}]}