{"remainingRequest":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js!/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimjunho/front/ssafyart_front/src/components/Gallery.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kimjunho/front/ssafyart_front/src/components/Gallery.vue","mtime":1588070180639},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js","mtime":1587098298841},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/vue-loader/lib/index.js","mtime":1587098312803}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEZyYW1lIGZyb20gJ0AvY29tcG9uZW50cy9GcmFtZTIudnVlJzsKaW1wb3J0IGRqYW5nb1VSTCBmcm9tICdAL2pzL2RqYW5nby11cmwuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy51c2VyID0gdGhpcy4kc3RvcmUuZ2V0dGVycy51c2VyOwogICAgdmFyIHVzZXJfaWQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJJZDsKICAgIGRqYW5nb1VSTCgnYXBpL3YxL2FydGljbGUvJyArIHVzZXJfaWQgKyAnLzEvJywgdGhpcy4kc3RvcmUuZ2V0dGVycy5yZXF1ZXN0SGVhZGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMuaW1hZ2VzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgIH0pOwogIH0sCiAgY29tcG9uZW50czogewogICAgRnJhbWU6IEZyYW1lCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHRvdGFsOiAxLAogICAgICBtaW5JZHg6IDAsCiAgICAgIG1heElkeDogNSwKICAgICAgaW1hZ2U6IHt9LAogICAgICBpbWFnZXM6IFtdLAogICAgICB1c2VyOiAnVXNlcicKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBuOwogICAgICB2YXIgdXNlcl9pZCA9IHRoaXMuJHN0b3JlLmdldHRlcnMudXNlcklkOwogICAgICBkamFuZ29VUkwoJ2FwaS92MS9hcnRpY2xlLycgKyB1c2VyX2lkICsgJy8nICsgbiArICcvJywgdGhpcy4kc3RvcmUuZ2V0dGVycy5yZXF1ZXN0SGVhZGVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuaW1hZ2VzID0gcmVzLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgdGhpcy5taW5JZHggKz0gNTsKICAgICAgdGhpcy5tYXhJZHggKz0gNTsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHRoaXMubWluSWR4ICsgMTsKICAgIH0sCiAgICBwcmV2aW91czogZnVuY3Rpb24gcHJldmlvdXMoKSB7CiAgICAgIHRoaXMubWluSWR4IC09IDU7CiAgICAgIHRoaXMubWF4SWR4IC09IDU7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB0aGlzLm1pbklkeCArIDE7CiAgICB9LAogICAgc2hvd01vZGFsOiBmdW5jdGlvbiBzaG93TW9kYWwoaW1hZ2UpIHsKICAgICAgdGhpcy4kcmVmc1snbXktbW9kYWwnXS5zaG93KCk7CiAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKICAgIH0sCiAgICBoaWRlTW9kYWw6IGZ1bmN0aW9uIGhpZGVNb2RhbCgpIHsKICAgICAgdGhpcy4kcmVmc1snbXktbW9kYWwnXS5oaWRlKCk7CiAgICB9LAogICAgZGVsZXRlQXJ0aWNsZTogZnVuY3Rpb24gZGVsZXRlQXJ0aWNsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBkamFuZ29VUkwuZGVsZXRlKCdhcGkvdjEvYXJ0aWNsZS8nICsgdGhpcy5pbWFnZS5pZCArICcvZGVsZXRlLycsIHRoaXMuJHN0b3JlLmdldHRlcnMucmVxdWVzdEhlYWRlcikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmltYWdlcyA9IF90aGlzMy5pbWFnZXMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZSAhPSBfdGhpczMuaW1hZ2U7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMy5oaWRlTW9kYWwoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Gallery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,KAAA,MAAA,yBAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AAGA,eAAA;AACA,EAAA,OADA,qBACA;AAAA;;AACA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,IAAA;AACA,QAAA,OAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,MAAA;AACA,IAAA,SAAA,CAAA,oBAAA,OAAA,GAAA,KAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAJA;AAKA,GATA;AAUA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAVA;AAaA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,CADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAGA,MAAA,MAAA,EAAA,CAHA;AAIA,MAAA,MAAA,EAAA,CAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAOA,MAAA,MAAA,EAAA,EAPA;AAQA,MAAA,IAAA,EAAA;AARA,KAAA;AAUA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,CADA,EACA;AAAA;;AACA,WAAA,WAAA,GAAA,CAAA;AACA,UAAA,OAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,MAAA;AACA,MAAA,SAAA,CAAA,oBAAA,OAAA,GAAA,GAAA,GAAA,CAAA,GAAA,GAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAHA;AAIA,KARA;AASA,IAAA,IATA,kBASA;AACA,WAAA,MAAA,IAAA,CAAA;AACA,WAAA,MAAA,IAAA,CAAA;AACA,WAAA,WAAA,GAAA,KAAA,MAAA,GAAA,CAAA;AACA,KAbA;AAcA,IAAA,QAdA,sBAcA;AACA,WAAA,MAAA,IAAA,CAAA;AACA,WAAA,MAAA,IAAA,CAAA;AACA,WAAA,WAAA,GAAA,KAAA,MAAA,GAAA,CAAA;AACA,KAlBA;AAmBA,IAAA,SAnBA,qBAmBA,KAnBA,EAmBA;AACA,WAAA,KAAA,CAAA,UAAA,EAAA,IAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,KAtBA;AAuBA,IAAA,SAvBA,uBAuBA;AACA,WAAA,KAAA,CAAA,UAAA,EAAA,IAAA;AACA,KAzBA;AA0BA,IAAA,aA1BA,2BA0BA;AAAA;;AACA,MAAA,SAAA,CAAA,MAAA,CAAA,oBAAA,KAAA,KAAA,CAAA,EAAA,GAAA,UAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,aAAA,EACA,IADA,CACA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,CAAA,IAAA,MAAA,CAAA,KAAA;AAAA,SAAA,CAAA;;AACA,QAAA,MAAA,CAAA,SAAA;AACA,OAJA;AAKA;AAhCA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"mt-5 bg-light\">\n    <p class=\"title text-center\">{{ user }}'s Gallery</p>\n    <div class=\"container\">\n      <div class=\"row gall\">\n        <div @click=\"showModal(image)\" v-for=\"(image, n) in images\" :key=n class=\"photo col-sm-4 col-6 px-3 pb-4 m-auto\">\n          <frame :imgPath=\"image.img_path\"></frame>\n          <!-- <img @click=\"showModal(imageUrl)\"  class=\"mb-2 photo\" :src=\"imageUrl\" alt=\"\">\n          <p class=\"text-right container\">2020-04-20</p> -->\n        </div>\n      </div>\n    </div>\n\n\n\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination justify-content-center\">\n        <li class=\"page-item\" :class=\"{disabled:minIdx==0}\">\n          <p @click=\"previous\" class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n            <span aria-hidden=\"true\">&laquo;</span>\n          </p>\n        </li>\n        <span v-for=\"n in total\" :key=n>\n          <li @click=\"onChange(n)\" v-if=\"n <= maxIdx && minIdx < n\" :class=\"{active: n==currentPage}\" class=\"page-item\"><p class=\"page-link\">{{n}}</p></li>\n        </span>\n        <li class=\"page-item\" :class=\"{disabled:maxIdx > total}\">\n          <p @click=\"next\" class=\"page-link\" href=\"#\" aria-label=\"Next\">\n            <span aria-hidden=\"true\">&raquo;</span>\n          </p>\n        </li>\n      </ul>\n    </nav>\n\n    <b-modal id=\"modal-center\" centered ref=\"my-modal\" hide-footer hide-header>\n      <div class=\"d-block text-center\">\n        <img class=\"share-image\" :src=\"image.img_path\" alt=\"\">\n        <b-button class=\"col-4\" squared @click=\"deleteArticle()\" variant=\"outline-danger\">삭제</b-button>\n        <b-button class=\"col-4\" squared onclick=\"shareKakaotalk()\" variant=\"outline-primary\">공유</b-button>\n        <b-button class=\"col-4\" squared @click=\"hideModal\" variant=\"outline-secondary\">닫기</b-button>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>  \n  import Frame from '@/components/Frame2.vue'\n  import djangoURL from '@/js/django-url.js'\n\n\n  export default {\n    mounted() {\n      this.user = this.$store.getters.user\n      const user_id = this.$store.getters.userId\n      djangoURL('api/v1/article/' + user_id + '/1/', this.$store.getters.requestHeader)\n      .then(res => {\n        this.images = res.data.data\n        this.total = res.data.total\n      })\n    },\n    components: {\n      Frame\n    },\n    data: () => {\n      return { \n        currentPage: 1,\n        total: 1,\n        minIdx: 0,\n        maxIdx: 5,\n        image: {\n        },\n        images: [],\n        user: 'User'\n      }\n    },\n    methods: {\n      onChange(n) {\n        this.currentPage = n\n        const user_id = this.$store.getters.userId\n        djangoURL('api/v1/article/' + user_id + '/' + n + '/', this.$store.getters.requestHeader)\n        .then(res => {\n          this.images = res.data.data\n        })\n      },\n      next() {\n        this.minIdx += 5\n        this.maxIdx += 5\n        this.currentPage = this.minIdx + 1\n      },\n      previous() {\n        this.minIdx -= 5\n        this.maxIdx -= 5\n        this.currentPage = this.minIdx + 1\n      },\n      showModal(image) {\n        this.$refs['my-modal'].show()\n        this.image = image\n      },\n      hideModal() {\n        this.$refs['my-modal'].hide()\n      },\n      deleteArticle() {\n        djangoURL.delete('api/v1/article/'+this.image.id+'/delete/', this.$store.getters.requestHeader)\n        .then(()=>{\n          this.images = this.images.filter(e => {return e != this.image})\n          this.hideModal()\n        })\n      }\n    }\n  }\n</script>\n\n<style scope>\n\n.modal-body > div > img{\n  width: 100%;\n}\n.page-item{\n  cursor: pointer;\n}\n\n.ca{\n  height: 100px;\n  background-color: red;\n}\n\n.disabled{\n  cursor: default;\n}\n\n.photo {\n  cursor: pointer;\n  /* width: 100%; */\n  margin-top: auto;\n}\n\n.photo > div {\n  height: 100%;\n}\n</style>"],"sourceRoot":"src/components"}]}