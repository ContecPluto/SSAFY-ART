{"remainingRequest":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js!/Users/kimjunho/front/ssafyart_front/node_modules/eslint-loader/index.js??ref--13-0!/Users/kimjunho/front/ssafyart_front/src/store/modules/auth.js","dependencies":[{"path":"/Users/kimjunho/front/ssafyart_front/src/store/modules/auth.js","mtime":1587977160165},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js","mtime":1587098298841},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/eslint-loader/index.js","mtime":1579183906421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGp3dERlY29kZSBmcm9tICdqd3QtZGVjb2RlJzsKaW1wb3J0IGNvb2tpZSBmcm9tICdAL2pzL2Nvb2tpZS5qcyc7CnZhciBzdGF0ZSA9IHsKICB0b2tlbjogbnVsbCwKICB1c2VyOiAnVXNlcicKfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuID8gdHJ1ZSA6IGZhbHNlOwogIH0sCiAgcmVxdWVzdEhlYWRlcjogZnVuY3Rpb24gcmVxdWVzdEhlYWRlcihzdGF0ZSkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICdKV1QgJyArIHN0YXRlLnRva2VuCiAgICAgIH0KICAgIH07CiAgfSwKICB1c2VySWQ6IGZ1bmN0aW9uIHVzZXJJZChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuID8gand0RGVjb2RlKHN0YXRlLnRva2VuKS51c2VyX2lkIDogbnVsbDsKICB9LAogIHVzZXI6IGZ1bmN0aW9uIHVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyOwogIH0KfTsgLy8g7IOB7YOcKO2GoO2BsCnsnYQg67Cb7JWE7JmA7IScIHN0YXRl66W8IHVwZGF0ZQoKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogIH0sCiAgc2V0TG9hZGluZzogZnVuY3Rpb24gc2V0TG9hZGluZyhzdGF0ZSwgc3RhdHVzKSB7CiAgICBzdGF0ZS5sb2FkaW5nID0gc3RhdHVzOwogIH0sCiAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4ob3B0aW9ucywgZmxhZykgewogICAgaWYgKGZsYWcgPT0gdHJ1ZSkgewogICAgICBvcHRpb25zLmNvbW1pdCgnc2V0VG9rZW4nLCBjb29raWUudG9rZW4oKSk7CiAgICAgIG9wdGlvbnMuY29tbWl0KCdzZXRVc2VyJywgY29va2llLmNvb2tpZUluZm8oKSk7CiAgICB9IGVsc2UgewogICAgICBvcHRpb25zLmNvbW1pdCgnc2V0VG9rZW4nLCBudWxsKTsKICAgICAgb3B0aW9ucy5jb21taXQoJ3NldFVzZXInLCBudWxsKTsKICAgIH0KICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KG9wdGlvbnMpIHsKICAgIG9wdGlvbnMuY29tbWl0KCdzZXRUb2tlbicsIG51bGwpOwogICAgb3B0aW9ucy5jb21taXQoJ3NldFVzZXInLCBudWxsKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["/Users/kimjunho/front/ssafyart_front/src/store/modules/auth.js"],"names":["jwtDecode","cookie","state","token","user","getters","isLoggedIn","requestHeader","headers","Authorization","userId","user_id","mutations","setToken","setLoading","status","loading","setUser","actions","login","options","flag","commit","cookieInfo","logout"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,IAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAE,IADK;AAEZC,EAAAA,IAAI,EAAE;AAFM,CAAd;AAKA,IAAMC,OAAO,GAAG;AACdC,EAAAA,UAAU,EAAE,oBAASJ,KAAT,EAAgB;AAC1B,WAAOA,KAAK,CAACC,KAAN,GAAc,IAAd,GAAqB,KAA5B;AACD,GAHa;AAIdI,EAAAA,aAAa,EAAE,uBAASL,KAAT,EAAgB;AAC7B,WAAO;AACLM,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAE,SAASP,KAAK,CAACC;AADvB;AADJ,KAAP;AAKD,GAVa;AAWdO,EAAAA,MAAM,EAAE,gBAASR,KAAT,EAAgB;AACtB,WAAOA,KAAK,CAACC,KAAN,GAAcH,SAAS,CAACE,KAAK,CAACC,KAAP,CAAT,CAAuBQ,OAArC,GAA+C,IAAtD;AACD,GAba;AAcdP,EAAAA,IAAI,EAAE,cAASF,KAAT,EAAgB;AACpB,WAAOA,KAAK,CAACE,IAAb;AACD;AAhBa,CAAhB,C,CAmBA;;AACA,IAAMQ,SAAS,GAAG;AAChBC,EAAAA,QAAQ,EAAE,kBAASX,KAAT,EAAgBC,KAAhB,EAAuB;AAC/BD,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACD,GAHe;AAIhBW,EAAAA,UAAU,EAAE,oBAASZ,KAAT,EAAgBa,MAAhB,EAAwB;AAClCb,IAAAA,KAAK,CAACc,OAAN,GAAgBD,MAAhB;AACD,GANe;AAOhBE,EAAAA,OAAO,EAAE,iBAASf,KAAT,EAAgBE,IAAhB,EAAsB;AAC7BF,IAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACD;AATe,CAAlB;AAYA,IAAMc,OAAO,GAAG;AACdC,EAAAA,KAAK,EAAE,eAASC,OAAT,EAAkBC,IAAlB,EAAwB;AAC7B,QAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChBD,MAAAA,OAAO,CAACE,MAAR,CAAe,UAAf,EAA2BrB,MAAM,CAACE,KAAP,EAA3B;AACAiB,MAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0BrB,MAAM,CAACsB,UAAP,EAA1B;AACD,KAHD,MAGO;AACLH,MAAAA,OAAO,CAACE,MAAR,CAAe,UAAf,EAA2B,IAA3B;AACAF,MAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0B,IAA1B;AACD;AACF,GATa;AAUdE,EAAAA,MAAM,EAAE,gBAASJ,OAAT,EAAkB;AACxBA,IAAAA,OAAO,CAACE,MAAR,CAAe,UAAf,EAA2B,IAA3B;AACAF,IAAAA,OAAO,CAACE,MAAR,CAAe,SAAf,EAA0B,IAA1B;AACD;AAba,CAAhB;AAgBA,eAAe;AACbpB,EAAAA,KAAK,EAALA,KADa;AAEbU,EAAAA,SAAS,EAATA,SAFa;AAGbM,EAAAA,OAAO,EAAPA,OAHa;AAIbb,EAAAA,OAAO,EAAPA;AAJa,CAAf","sourcesContent":["import jwtDecode from 'jwt-decode'\nimport cookie from '@/js/cookie.js'\nconst state = {\n  token: null,\n  user: 'User',\n}\n\nconst getters = {\n  isLoggedIn: function(state) {\n    return state.token ? true : false\n  },\n  requestHeader: function(state) {\n    return {\n      headers: {\n        Authorization: 'JWT ' + state.token\n      }\n    }\n  },\n  userId: function(state) {\n    return state.token ? jwtDecode(state.token).user_id : null\n  },\n  user: function(state) {\n    return state.user\n  },\n}\n\n// 상태(토큰)을 받아와서 state를 update\nconst mutations = {\n  setToken: function(state, token) {\n    state.token = token\n  },\n  setLoading: function(state, status) {\n    state.loading = status\n  },\n  setUser: function(state, user) {\n    state.user = user\n  },\n}\n\nconst actions = {\n  login: function(options, flag) {\n    if (flag == true) {\n      options.commit('setToken', cookie.token())\n      options.commit('setUser', cookie.cookieInfo())\n    } else {\n      options.commit('setToken', null)\n      options.commit('setUser', null) \n    }\n  },\n  logout: function(options) {\n    options.commit('setToken', null)\n    options.commit('setUser', null) \n  },\n}\n\nexport default {\n  state,\n  mutations,\n  actions,\n  getters,\n}"]}]}