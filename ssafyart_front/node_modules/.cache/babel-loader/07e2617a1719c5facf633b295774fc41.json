{"remainingRequest":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js!/Users/kimjunho/front/ssafyart_front/node_modules/eslint-loader/index.js??ref--13-0!/Users/kimjunho/front/ssafyart_front/src/js/cookie.js","dependencies":[{"path":"/Users/kimjunho/front/ssafyart_front/src/js/cookie.js","mtime":1587992880180},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/cache-loader/dist/cjs.js","mtime":1579183904604},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/babel-loader/lib/index.js","mtime":1587098298841},{"path":"/Users/kimjunho/front/ssafyart_front/node_modules/eslint-loader/index.js","mtime":1579183906421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwoKZnVuY3Rpb24gX3Rva2VuKCkgewogIHZhciB2YWx1ZSA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaCgnKF58OykgPycgKyAnand0LWF1dGgtdG9rZW4nICsgJz0oW147XSopKDt8JCknKTsKICByZXR1cm4gdmFsdWUgPSB2YWx1ZSA/IHZhbHVlWzJdIDogbnVsbDsKfQoKZnVuY3Rpb24gX2Nvb2tpZUluZm8oKSB7CiAgdmFyIHZhbHVlID0gZG9jdW1lbnQuY29va2llLm1hdGNoKCcoXnw7KSA/JyArICdsb2dpbl91c2VyJyArICc9KFteO10qKSg7fCQpJyk7CiAgcmV0dXJuIHZhbHVlID0gdmFsdWUgPyB2YWx1ZVsyXSA6IG51bGw7Cn0KCmZ1bmN0aW9uIF91cGRhdGVDb29raWUoKSB7CiAgdmFyIHZhbHVlID0gX3Rva2VuKCk7CgogIGlmICh2YWx1ZSAhPT0gbnVsbCkgewogICAgdmFyIGRheSA9IG5ldyBEYXRlKCk7IC8vIG1z64uo7JyE6riw7JeQIDHstIjroZwg67OA7ZmYLT42MOy0iC0+NjDrtoQtPjI07Iuc6rCELT7stZzsooXsoIHsnLzroZwgZGF5CgogICAgZGF5LnNldFRpbWUoZGF5LmdldFRpbWUoKSArIDYwICogNjAgKiAxMDAwKTsKICAgIHZhciBleHBpcmVzID0gImV4cGlyZXM9IiArIGRheS50b1VUQ1N0cmluZygpOwogICAgZG9jdW1lbnQuY29va2llID0gJ2p3dC1hdXRoLXRva2VuJyArICI9IiArIHZhbHVlICsgIjsiICsgZXhwaXJlcyArICI7cGF0aD0vIiArICI7IjsKICAgIGRvY3VtZW50LmNvb2tpZSA9ICdsb2dpbl91c2VyJyArICI9IiArIF9jb29raWVJbmZvKCkgKyAiOyIgKyBleHBpcmVzICsgIjtwYXRoPS8iICsgIjsiOwogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0KCmZ1bmN0aW9uIF9jb29raWVDcmVhdGUodG9rZW4sIHVzZXIpIHsKICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgNjAgKiA2MCAqIDEwMDApOwogIHZhciBleHBpcmVzID0gImV4cGlyZXM9IiArIGQudG9VVENTdHJpbmcoKTsKICBkb2N1bWVudC5jb29raWUgPSAibG9naW5fdXNlcj0iICsgdXNlciArICI7IiArIGV4cGlyZXMgKyAiO3BhdGg9LyI7CiAgZG9jdW1lbnQuY29va2llID0gImp3dC1hdXRoLXRva2VuPSIgKyB0b2tlbiArICI7IiArIGV4cGlyZXMgKyAiO3BhdGg9LyI7Cn0KCmZ1bmN0aW9uIF9sb2dvdXQoKSB7CiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogIGRvY3VtZW50LmNvb2tpZSA9ICdsb2dpbl91c2VyJyArICI9ICIgKyAiOyBleHBpcmVzPSIgKyBkYXRlLnRvVVRDU3RyaW5nKCkgKyAiOyBwYXRoPS8iOwogIGRvY3VtZW50LmNvb2tpZSA9ICdqd3QtYXV0aC10b2tlbicgKyAiPSAiICsgIjsgZXhwaXJlcz0iICsgZGF0ZS50b1VUQ1N0cmluZygpICsgIjsgcGF0aD0vIjsKfQoKdmFyIGNvb2tpZSA9IHsKICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oKSB7CiAgICByZXR1cm4gX3Rva2VuKCk7CiAgfSwKICB1cGRhdGVDb29raWU6IGZ1bmN0aW9uIHVwZGF0ZUNvb2tpZSgpIHsKICAgIHJldHVybiBfdXBkYXRlQ29va2llKCk7CiAgfSwKICBjb29raWVJbmZvOiBmdW5jdGlvbiBjb29raWVJbmZvKCkgewogICAgcmV0dXJuIF9jb29raWVJbmZvKCk7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgIHJldHVybiBfbG9nb3V0KCk7CiAgfSwKICBjb29raWVDcmVhdGU6IGZ1bmN0aW9uIGNvb2tpZUNyZWF0ZShlbWFpbCwgaGVhZGVycykgewogICAgcmV0dXJuIF9jb29raWVDcmVhdGUoZW1haWwsIGhlYWRlcnMpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgY29va2llOw=="},{"version":3,"sources":["/Users/kimjunho/front/ssafyart_front/src/js/cookie.js"],"names":["token","value","document","cookie","match","cookieInfo","updateCookie","day","Date","setTime","getTime","expires","toUTCString","cookieCreate","user","d","logout","date","email","headers"],"mappings":";;;AAAA,SAASA,MAAT,GAAiB;AACf,MAAIC,KAAK,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,YAAY,gBAAZ,GAA+B,eAArD,CAAZ;AACA,SAAOH,KAAK,GAAGA,KAAK,GAAEA,KAAK,CAAC,CAAD,CAAP,GAAa,IAAjC;AACD;;AAED,SAASI,WAAT,GAAsB;AACpB,MAAIJ,KAAK,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,YAAY,YAAZ,GAA2B,eAAjD,CAAZ;AACA,SAAOH,KAAK,GAAGA,KAAK,GAAEA,KAAK,CAAC,CAAD,CAAP,GAAa,IAAjC;AACD;;AAKD,SAASK,aAAT,GAAwB;AACtB,MAAIL,KAAK,GAAGD,MAAK,EAAjB;;AACA,MAAIC,KAAK,KAAK,IAAd,EAAoB;AAChB,QAAIM,GAAG,GAAG,IAAIC,IAAJ,EAAV,CADgB,CAEhB;;AACAD,IAAAA,GAAG,CAACE,OAAJ,CAAYF,GAAG,CAACG,OAAJ,KAAiB,KAAG,EAAH,GAAM,IAAnC;AACA,QAAIC,OAAO,GAAG,aAAaJ,GAAG,CAACK,WAAJ,EAA3B;AACAV,IAAAA,QAAQ,CAACC,MAAT,GAAkB,mBAAmB,GAAnB,GAAyBF,KAAzB,GAAiC,GAAjC,GAAuCU,OAAvC,GAAiD,SAAjD,GAA6D,GAA/E;AACAT,IAAAA,QAAQ,CAACC,MAAT,GAAkB,eAAe,GAAf,GAAqBE,WAAU,EAA/B,GAAoC,GAApC,GAA0CM,OAA1C,GAAoD,SAApD,GAAgE,GAAlF;AACA,WAAO,IAAP;AACH,GARD,MAQO;AACL,WAAO,KAAP;AACD;AACF;;AAED,SAASE,aAAT,CAAsBb,KAAtB,EAA6Bc,IAA7B,EAAmC;AACjC,MAAIC,CAAC,GAAG,IAAIP,IAAJ,EAAR;AACAO,EAAAA,CAAC,CAACN,OAAF,CAAUM,CAAC,CAACL,OAAF,KAAe,KAAG,EAAH,GAAM,IAA/B;AACA,MAAIC,OAAO,GAAG,aAAYI,CAAC,CAACH,WAAF,EAA1B;AACAV,EAAAA,QAAQ,CAACC,MAAT,GAAkB,gBAAgBW,IAAhB,GAAuB,GAAvB,GAA6BH,OAA7B,GAAuC,SAAzD;AACAT,EAAAA,QAAQ,CAACC,MAAT,GAAkB,oBAAoBH,KAApB,GAA4B,GAA5B,GAAkCW,OAAlC,GAA4C,SAA9D;AACD;;AAED,SAASK,OAAT,GAAkB;AAChB,MAAIC,IAAI,GAAG,IAAIT,IAAJ,EAAX;AACAN,EAAAA,QAAQ,CAACC,MAAT,GAAkB,eAAe,IAAf,GAAsB,YAAtB,GAAqCc,IAAI,CAACL,WAAL,EAArC,GAA0D,UAA5E;AACAV,EAAAA,QAAQ,CAACC,MAAT,GAAkB,mBAAmB,IAAnB,GAA0B,YAA1B,GAAyCc,IAAI,CAACL,WAAL,EAAzC,GAA8D,UAAhF;AACD;;AAED,IAAMT,MAAM,GAAG;AACbH,EAAAA,KAAK,EAAC;AAAA,WAAIA,MAAK,EAAT;AAAA,GADO;AAEbM,EAAAA,YAAY,EAAC;AAAA,WAAIA,aAAY,EAAhB;AAAA,GAFA;AAGbD,EAAAA,UAAU,EAAC;AAAA,WAAIA,WAAU,EAAd;AAAA,GAHE;AAIbW,EAAAA,MAAM,EAAC;AAAA,WAAIA,OAAM,EAAV;AAAA,GAJM;AAKbH,EAAAA,YAAY,EAAC,sBAACK,KAAD,EAAQC,OAAR;AAAA,WAAkBN,aAAY,CAACK,KAAD,EAAQC,OAAR,CAA9B;AAAA;AALA,CAAf;AAOA,eAAehB,MAAf","sourcesContent":["function token() {\n  var value = document.cookie.match('(^|;) ?' + 'jwt-auth-token' + '=([^;]*)(;|$)');\n  return value = value? value[2] : null\n}\n\nfunction cookieInfo() {\n  var value = document.cookie.match('(^|;) ?' + 'login_user' + '=([^;]*)(;|$)');\n  return value = value? value[2] : null\n}\n\n\n\n\nfunction updateCookie() {\n  var value = token()\n  if (value !== null) {\n      var day = new Date();\n      // ms단위기에 1초로 변환->60초->60분->24시간->최종적으로 day\n      day.setTime(day.getTime() + (60*60*1000));\n      var expires = \"expires=\" + day.toUTCString();\n      document.cookie = 'jwt-auth-token' + \"=\" + value + \";\" + expires + \";path=/\" + \";\";\n      document.cookie = 'login_user' + \"=\" + cookieInfo() + \";\" + expires + \";path=/\" + \";\";\n      return true\n  } else {\n    return false\n  }\n}\n\nfunction cookieCreate(token, user) {\n  let d = new Date();                \n  d.setTime(d.getTime() + (60*60*1000));\n  let expires = \"expires=\"+ d.toUTCString();\n  document.cookie = \"login_user=\" + user + \";\" + expires + \";path=/\";\n  document.cookie = \"jwt-auth-token=\" + token + \";\" + expires + \";path=/\";\n}\n\nfunction logout() {\n  var date = new Date();\n  document.cookie = 'login_user' + \"= \" + \"; expires=\" + date.toUTCString() + \"; path=/\";\n  document.cookie = 'jwt-auth-token' + \"= \" + \"; expires=\" + date.toUTCString() + \"; path=/\";\n}\n\nconst cookie = {\n  token:()=>token(),\n  updateCookie:()=>updateCookie(),\n  cookieInfo:()=>cookieInfo(),\n  logout:()=>logout(),\n  cookieCreate:(email, headers)=>cookieCreate(email, headers),\n}\nexport default cookie\n"]}]}